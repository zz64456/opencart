{#
	The file was generated by kamod
	More information can be found at https://www.ka-station.com/kamod
	
	Original file: extension/ka_extensions/kamod/admin/view/template/marketplace/installer/after_list_load.js.twig	
#}
{% extends "admin/view/template/marketplace/installer/after_list_load.js.1.kamod.twig" %}

{% block parent_template %}

{{ parent() }}

$('#extension').on('click', 'a[href*="/installer|install"]', function (e) {

	var $this = $(this);
	
	var href = $(this).attr('href');
	var matches = href.match(/extension_install_id=(\d*)/);
	
	if (matches && ka_unsafe_extensions) {
	
		if (ka_unsafe_extensions[matches[1]]) {
			if (!confirm('The extension directory arelady exists. During installation the target directory will be fully overwritten. Do you want to proceed?')) {
				e.stopImmediatePropagation();
				e.preventDefault();
				return;
			}
			
			$this.attr('href', ka_unsafe_extensions[matches[1]]);			
		}
	}
});

{% endblock %}